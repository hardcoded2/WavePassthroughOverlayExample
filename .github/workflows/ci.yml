# CI for pull requests
# https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-gradle?learn=continuous_integration&learnProduct=actions
# Using gradle-build-action. See https://github.com/gradle/gradle-build-action

name: CI

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    env:
      LICENSE: ${{ secrets.LICENSE }}
      LICENSE2: ${{ secrets.LICENSE2 }}
    strategy:
      matrix:
        unity-version: [ 2019.4.36f1 ] #,2020.3.30f1, 2021.2.14f1

    steps:
      - name: write out license file
        run: |
          echo -n -e "$LICENSE" > license.alf
          echo inside a multi-line script: $LICENSE
          wc -m license.alf
          find .
      - name: write out license file2
        run: |
          echo -n -e "$LICENSE2" > license2.alf
          echo inside a multi-line script: $LICENSE2
          wc -m license2.alf
          find .
      - name: Checkout Passthrough Example
        uses: actions/checkout@v2
        with:
          submodules: 'true'
      - name: list all files in build dir
        run: |
          find .